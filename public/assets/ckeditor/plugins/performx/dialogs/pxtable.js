(function(){var e;(function(d){d.ajax({async:!1,dataType:"json",url:CKEDITOR.plugins.getPath("performx")+"resources/tables.json",success:function(a){e=a.tables},error:function(a,b,c){console.log("Request Failed: "+(b+", "+c))}})})(jQuery);e.buildSelectList=function(){var d=[];d.push(["Choose a table...",""]);for(var a,b=0;b<this.length;b++)a=[this[b].displayName,this[b].tableValue],d.push(a);return d};e.getTableAttribute=function(d,a){for(var b=0;b<this.length;b++)if(this[b].tableValue==d)return this[b][a];
return""};CKEDITOR.dialog.add("pxTableDialog",function(d){return{title:"PerformX OpenAccess – Table Library",minWidth:470,minHeight:200,contents:[{id:"main",elements:[{type:"hbox",width:[null,null],height:180,children:[{type:"vbox",style:"margin-right: 20px;",children:[{id:"tableName",type:"select",label:"Table",items:e.buildSelectList(),onChange:function(){var a,b,c,d;a=this.getValue();b=CKEDITOR.plugins.getPath("performx");c=e.getTableAttribute(a,"previewImage");d=e.getTableAttribute(a,"displayName");
a=e.getTableAttribute(a,"description");""!=c?(c=b+"images/"+c,jQuery("#table-preview").html('\x3cp style\x3d"margin-bottom:10px;white-space:normal;"\x3e\x3cspan style\x3d"font-weight:bold;color:#840004;"\x3e'+d+"\x3c/span\x3e\x3cbr/\x3e"+a+'\x3c/p\x3e\x3cimg src\x3d"'+c+'" /\x3e')):jQuery("#table-preview").html("\x3cp\x3e\x3c/p\x3e")}},{id:"rows",type:"text",label:"Rows",width:"50px",validate:CKEDITOR.dialog.validate.notEmpty("Rows number can't be empty."),"default":"5"}]},{type:"vbox",children:[{id:"preview",
type:"html",html:'\x3cstyle type\x3d"text/css"\x3e#table-preview * {white-space:normal;}\x3c/style\x3e\x3cdiv id\x3d"table-preview"\x3e\x3c/div\x3e'}]}]},{type:"html",html:'\x3cp\x3e\x3ca style\x3d"color:#840004;" href\x3d"javascript:void(0);" id\x3d"pxTblHelpLink"\x3eHelp\x3c/a\x3e\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x3ca style\x3d"color:#840004;" href\x3d"javascript:void(0);" id\x3d"pxTblAboutLink"\x3eAbout\x3c/a\x3e\x3c/p\x3e',onLoad:function(){document.getElementById("pxTblHelpLink").onclick=
function(){window.pxHelpMode=2;d.openDialog("helpDialog")};document.getElementById("pxTblAboutLink").onclick=function(){d.openDialog("aboutDialog")}}}]}],onShow:function(){jQuery("#table-preview").html("\x3cp\x3e\x3c/p\x3e")},onOk:function(){var a=this.getValueOf("main","tableName"),b=this.getValueOf("main","rows"),c,f;c=e.getTableAttribute(a,"headHtml");f=e.getTableAttribute(a,"rowHtml");a=e.getTableAttribute(a,"footHtml");if(""!=f)for(var g=1;g<=b;g++){var h;h=f.replace("[?seq]",g);c+=h}c+=a;""!=
c&&d.insertHtml(c)}}})})();